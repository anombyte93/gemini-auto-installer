#!/bin/bash

# Student Codex - Simplified Launcher for Open Codex with Student Context
# Version: 2.0

# Colors
CYAN='\033[0;36m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BOLD='\033[1m'
NC='\033[0m'

clear
echo ""
echo -e "${BOLD}${CYAN}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}"
echo -e "${BOLD}${CYAN}  Student Codex - AI Learning Assistant${NC}"
echo -e "${BOLD}${CYAN}‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ${NC}\n"

echo -e "${GREEN}üìö Student Mode Active${NC}"
echo ""
echo "This launches Open Codex with special student learning instructions"
echo "that help the AI provide better educational responses."
echo ""
echo -e "${YELLOW}What this does:${NC}"
echo "  ‚Ä¢ Tells AI you're a student learning system administration"
echo "  ‚Ä¢ Asks AI to explain concepts in simple terms"
echo "  ‚Ä¢ Requests step-by-step explanations"
echo "  ‚Ä¢ Gets warnings about dangerous commands"
echo "  ‚Ä¢ Ensures you understand WHY, not just WHAT"
echo ""
echo -e "${CYAN}‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ${NC}"
echo ""
echo -e "${BOLD}üí° To bypass this and use Open Codex directly:${NC}"
echo ""
echo "  Run:  ${GREEN}open-codex${NC}"
echo ""
echo "  This gives you full control without student prompts."
echo ""
echo -e "${CYAN}‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ${NC}"
echo ""

# Check if open-codex is installed
if ! command -v open-codex &> /dev/null; then
    echo -e "${YELLOW}‚ö†Ô∏è  Open Codex not found!${NC}"
    echo ""
    echo "Please run the installer first:"
    echo "  ./install-gemini-cli.sh"
    echo ""
    exit 1
fi

# Student learning context to always include
STUDENT_CONTEXT="CONTEXT: I am a student learning system administration and cybersecurity.

LEARNING MODE ACTIVE - Please help me learn by:
1. Explaining concepts in simple, clear language
2. Breaking down complex tasks into step-by-step instructions
3. Explaining WHAT each command does and WHY it's needed
4. Warning me about potentially dangerous commands (sudo, rm, etc.)
5. Providing verification steps so I can confirm things worked
6. Encouraging me to check official documentation
7. Teaching good security and system administration practices

IMPORTANT: Before suggesting any commands, remind me to:
- Check the official documentation first
- Understand what each command does
- Be careful with sudo commands
- Verify results after running commands

Please proceed with educational, step-by-step guidance."

echo -e "${GREEN}‚úì Launching Open Codex with student learning context...${NC}"
echo ""
echo -e "${CYAN}Press Enter to continue...${NC}"
read

# Launch open-codex with student context
open-codex "$STUDENT_CONTEXT"

echo ""
echo -e "${GREEN}‚úì Session complete${NC}"
echo ""
echo -e "${YELLOW}Remember:${NC}"
echo "  ‚Ä¢ Always check official documentation first"
echo "  ‚Ä¢ Verify AI suggestions before running commands"
echo "  ‚Ä¢ Ask questions when something isn't clear"
echo ""
echo -e "${CYAN}To start another session:  ${GREEN}student-codex${NC}"
echo -e "${CYAN}To use Open Codex directly: ${GREEN}open-codex${NC}"
echo ""
